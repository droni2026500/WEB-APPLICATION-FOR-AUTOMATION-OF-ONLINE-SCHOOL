{"ast":null,"code":"import _slicedToArray from \"/Users/skhotwow/Desktop/\\u0414\\u0438\\u043F\\u043B\\u043E\\u043C/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/skhotwow/Desktop/\\u0414\\u0438\\u043F\\u043B\\u043E\\u043C/client/src/components/login/LoginForm.jsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Context } from \"../../index\";\nimport { useNavigate } from \"react-router-dom\";\nimport Button from \"@mui/material/Button\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ChatBotChannelAdd from \"../admin/ChatBotChannelAdd\";\nimport MyModal from \"../UI/MyModal/MyModal\";\nimport { Alert, Snackbar } from \"@mui/material\";\nimport { observer } from \"mobx-react-lite\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    h1Control: {\n      justifyContent: \"center\",\n      display: \"flex\"\n    },\n    divForm: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    formControl: {\n      margin: theme.spacing(14),\n      minWidth: 300,\n      maxWidth: 700,\n      display: \"flex\",\n      flexDirection: \"column\",\n      gap: 16,\n      justifyContent: \"center\"\n    },\n    formControlBtns: {\n      margin: theme.spacing(1),\n      minWidth: 400,\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"baseline\",\n      gap: 8\n    }\n  };\n});\n\nfunction LoginForm() {\n  var _useContext = useContext(Context),\n      store = _useContext.store;\n\n  var classes = useStyles();\n  var navigate = useNavigate();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  useEffect(function () {}, [store.open]);\n\n  var login = function login() {\n    if (email.length && password.length) {\n      store.login(email, password).then(function (response) {\n        console.log(response);\n        navigate(\"/home\");\n      }).catch(function (error) {\n        store.setOpen(true);\n        store.setSeverity(\"error\");\n        store.setAlertMessage(\"Данные введены неверно\");\n      });\n    } else {\n      store.setOpen(true);\n      store.setSeverity(\"error\");\n      store.setAlertMessage(\"Заполните все поля\");\n    }\n  };\n\n  var handleClose = function handleClose(event, reason) {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    store.setOpen(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.divForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.formControl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: classes.h1Control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"\\u0412\\u0445\\u043E\\u0434\"), /*#__PURE__*/React.createElement(FormControl, {\n    sx: {\n      m: 1\n    },\n    variant: \"standard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    value: email,\n    type: \"text\",\n    \"aria-describedby\": \"my-helper-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    sx: {\n      m: 1\n    },\n    variant: \"standard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"), /*#__PURE__*/React.createElement(Input, {\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    value: password,\n    type: \"password\",\n    \"aria-describedby\": \"my-helper-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(FormControl, {\n    sx: {\n      m: 1\n    },\n    variant: \"standard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: function onClick() {\n      return login();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"))), /*#__PURE__*/React.createElement(Snackbar, {\n    open: store.open,\n    autoHideDuration: 6000,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    onClose: handleClose,\n    severity: store.severity,\n    sx: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, store.alertMessage)));\n}\n\nexport default observer(LoginForm);","map":{"version":3,"names":["React","useContext","useEffect","useState","Context","useNavigate","Button","InputLabel","Input","FormControl","makeStyles","ChatBotChannelAdd","MyModal","Alert","Snackbar","observer","useStyles","theme","h1Control","justifyContent","display","divForm","formControl","margin","spacing","minWidth","maxWidth","flexDirection","gap","formControlBtns","alignItems","LoginForm","store","classes","navigate","email","setEmail","password","setPassword","open","login","length","then","response","console","log","catch","error","setOpen","setSeverity","setAlertMessage","handleClose","event","reason","m","e","target","value","severity","width","alertMessage"],"sources":["/Users/skhotwow/Desktop/Диплом/client/src/components/login/LoginForm.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Context } from \"../../index\";\nimport { useNavigate } from \"react-router-dom\";\nimport Button from \"@mui/material/Button\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ChatBotChannelAdd from \"../admin/ChatBotChannelAdd\";\nimport MyModal from \"../UI/MyModal/MyModal\";\nimport { Alert, Snackbar } from \"@mui/material\";\nimport {observer} from \"mobx-react-lite\";\n\nconst useStyles = makeStyles((theme) => ({\n  h1Control: {\n    justifyContent: \"center\",\n    display: \"flex\",\n  },\n  divForm: {\n    display: \"flex\",\n    justifyContent: \"center\",\n  },\n  formControl: {\n    margin: theme.spacing(14),\n    minWidth: 300,\n    maxWidth: 700,\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: 16,\n    justifyContent: \"center\",\n  },\n  formControlBtns: {\n    margin: theme.spacing(1),\n    minWidth: 400,\n    display: \"flex\",\n    flexDirection: \"row\",\n    alignItems: \"baseline\",\n    gap: 8,\n  },\n}));\n\nfunction LoginForm() {\n  const { store } = useContext(Context);\n  const classes = useStyles();\n\n  const navigate = useNavigate();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  useEffect(() => {\n  }, [store.open]);\n\n  const login = () => {\n    if (email.length && password.length) {\n      store.login(email, password)\n          .then((response) => {\n            console.log(response)\n        navigate(\"/home\");\n      }).catch((error) => {\n        store.setOpen(true)\n        store.setSeverity(\"error\")\n        store.setAlertMessage(\"Данные введены неверно\")\n      });\n    }\n    else {\n      store.setOpen(true)\n      store.setSeverity(\"error\")\n      store.setAlertMessage(\"Заполните все поля\")\n    }\n  };\n\n  const handleClose = (\n    event?: React.SyntheticEvent | Event,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    store.setOpen(false);\n  };\n\n  return (\n    <div className={classes.divForm}>\n      <form className={classes.formControl}>\n        <h1 className={classes.h1Control}>Вход</h1>\n        <FormControl sx={{ m: 1 }} variant=\"standard\">\n          <InputLabel htmlFor=\"name\">Email</InputLabel>\n          <Input\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n            type={\"text\"}\n            aria-describedby=\"my-helper-text\"\n          />\n        </FormControl>\n        <FormControl sx={{ m: 1 }} variant=\"standard\">\n          <InputLabel htmlFor=\"name\">Пароль</InputLabel>\n          <Input\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n            type={\"password\"}\n            aria-describedby=\"my-helper-text\"\n          />\n        </FormControl>\n        <FormControl sx={{ m: 1 }} variant=\"standard\">\n          <Button variant=\"contained\" onClick={() => login()}>\n            Войти\n          </Button>\n        </FormControl>\n      </form>\n      <Snackbar\n        open={store.open}\n        autoHideDuration={6000}\n        onClose={handleClose}\n    >\n      <Alert\n          onClose={handleClose}\n          severity={store.severity}\n          sx={{ width: \"100%\" }}\n      >\n        {store.alertMessage}\n      </Alert>\n    </Snackbar>\n    </div>\n  );\n}\n\nexport default observer(LoginForm);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}