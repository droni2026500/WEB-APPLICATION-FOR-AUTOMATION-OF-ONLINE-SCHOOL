{"ast":null,"code":"var _jsxFileName = \"/Users/skhotwow/Desktop/\\u0414\\u0438\\u043F\\u043B\\u043E\\u043C/client/src/App.js\";\nimport React, { useContext, useEffect } from \"react\";\nimport LoginForm from \"./components/login/LoginForm\";\nimport { Context } from \"./index\";\nimport { observer } from \"mobx-react-lite\";\nimport { Redirect, Route, Routes, useLocation } from \"react-router-dom\";\nimport { Navigate } from \"react-router-dom\";\nimport Curators from \"./components/curators/Curators\";\nimport UsersPage from \"./components/admin/UsersPage\";\nimport DirectorPage from \"./components/director/DirectorPage\";\nimport ChatBotsPage from \"./components/admin/ChatBotsPage\";\nimport CuratorsTableFormAdd from \"./components/curators/CuratosTableFormAdd\";\nimport MainPage from \"./components/mainPage/MainPage\";\n\nfunction App() {\n  var _useContext = useContext(Context),\n      store = _useContext.store;\n\n  useEffect(function () {\n    if (localStorage.getItem(\"access_token\")) {\n      store.checkAuth().then(function (r) {\n        return function RequireAuth(_ref) {\n          var children = _ref.children;\n          var location = useLocation();\n          return store.isAuth ? children : /*#__PURE__*/React.createElement(Navigate, {\n            to: \"/login\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 26,\n              columnNumber: 15\n            }\n          }) // <LoginForm />\n          // <Navigate to=\"/login\" replace state={{ path: location.pathname }} />\n          ;\n        };\n      });\n    }\n  }, []);\n\n  if (store.isLoading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 12\n      }\n    });\n  } // function RequireAuth({ children }) {\n  //   const location = useLocation();\n  //   return store.isAuth ? (\n  //     children\n  //   ) : (\n  //       <Navigate to=\"/login\" />\n  //       // <LoginForm />\n  //     // <Navigate to=\"/login\" replace state={{ path: location.pathname }} />\n  //\n  //   );\n  // }\n\n\n  return /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/home\",\n    element: /*#__PURE__*/React.createElement(RequireAuth, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MainPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    element: /*#__PURE__*/React.createElement(LoginForm, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 37\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(Curators, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 32\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/users\",\n    element: /*#__PURE__*/React.createElement(RequireAuth, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(UsersPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/director\",\n    element: /*#__PURE__*/React.createElement(RequireAuth, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DirectorPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/chatbots\",\n    element: /*#__PURE__*/React.createElement(RequireAuth, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ChatBotsPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/students\",\n    element: /*#__PURE__*/React.createElement(RequireAuth, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Curators, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/create_table\",\n    element: /*#__PURE__*/React.createElement(RequireAuth, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CuratorsTableFormAdd, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"*\",\n    element: /*#__PURE__*/React.createElement(RequireAuth, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CuratorsTableFormAdd, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default observer(App);","map":{"version":3,"names":["React","useContext","useEffect","LoginForm","Context","observer","Redirect","Route","Routes","useLocation","Navigate","Curators","UsersPage","DirectorPage","ChatBotsPage","CuratorsTableFormAdd","MainPage","App","store","localStorage","getItem","checkAuth","then","r","RequireAuth","children","location","isAuth","isLoading"],"sources":["/Users/skhotwow/Desktop/Диплом/client/src/App.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport LoginForm from \"./components/login/LoginForm\";\nimport { Context } from \"./index\";\nimport { observer } from \"mobx-react-lite\";\nimport { Redirect, Route, Routes, useLocation } from \"react-router-dom\";\nimport { Navigate } from \"react-router-dom\";\nimport Curators from \"./components/curators/Curators\";\nimport UsersPage from \"./components/admin/UsersPage\";\nimport DirectorPage from \"./components/director/DirectorPage\";\nimport ChatBotsPage from \"./components/admin/ChatBotsPage\";\nimport CuratorsTableFormAdd from \"./components/curators/CuratosTableFormAdd\";\nimport MainPage from \"./components/mainPage/MainPage\";\n\nfunction App() {\n  const { store } = useContext(Context);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"access_token\")) {\n      store.checkAuth().then(\n        (r) =>\n          function RequireAuth({ children }) {\n            const location = useLocation();\n            return store.isAuth ? (\n              children\n            ) : (\n              <Navigate to=\"/login\" />\n              // <LoginForm />\n              // <Navigate to=\"/login\" replace state={{ path: location.pathname }} />\n            );\n          }\n      );\n    }\n  }, []);\n\n  if (store.isLoading) {\n    return <div></div>;\n  }\n\n  // function RequireAuth({ children }) {\n  //   const location = useLocation();\n  //   return store.isAuth ? (\n  //     children\n  //   ) : (\n  //       <Navigate to=\"/login\" />\n  //       // <LoginForm />\n  //     // <Navigate to=\"/login\" replace state={{ path: location.pathname }} />\n  //\n  //   );\n  // }\n\n  return (\n    <Routes>\n      <Route\n        path=\"/home\"\n        element={\n          <RequireAuth>\n            <MainPage />\n          </RequireAuth>\n        }\n      />\n      <Route path=\"/login\" element={<LoginForm />} />\n      <Route path=\"/\" element={<Curators />} />\n      <Route\n        path=\"/users\"\n        element={\n          <RequireAuth>\n            <UsersPage />\n          </RequireAuth>\n        }\n      />\n      <Route\n        path=\"/director\"\n        element={\n          <RequireAuth>\n            <DirectorPage />\n          </RequireAuth>\n        }\n      />\n      <Route\n        path=\"/chatbots\"\n        element={\n          <RequireAuth>\n            <ChatBotsPage />\n          </RequireAuth>\n        }\n      />\n      <Route\n        path=\"/students\"\n        element={\n          <RequireAuth>\n            <Curators />\n          </RequireAuth>\n        }\n      />\n      <Route\n        path=\"/create_table\"\n        element={\n          <RequireAuth>\n            <CuratorsTableFormAdd />\n          </RequireAuth>\n        }\n      />\n      <Route\n        path=\"*\"\n        element={\n          <RequireAuth>\n            <CuratorsTableFormAdd />\n          </RequireAuth>\n        }\n      />\n    </Routes>\n  );\n}\n\nexport default observer(App);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}